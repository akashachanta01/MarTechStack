{% extends "jobs/base.html" %}

{% block title %}{{ seo_title }}{% endblock %}
{% block meta_description %}{{ seo_description }}{% endblock %}

{% block content %}
<div class="bg-slate-50 min-h-screen py-12">
    <div class="max-w-4xl mx-auto px-4">
        
        <div class="text-center mb-12">
            <span class="text-xs font-bold bg-green-100 text-green-800 px-3 py-1 rounded-full uppercase tracking-wide">Free Tool</span>
            <h1 class="text-4xl md:text-5xl font-serif font-bold text-slate-900 mt-4 mb-4">
                MarTech Salary Calculator
            </h1>
            <p class="text-lg text-slate-600">
                Estimate your market value based on 2026 data trends.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-white p-8 rounded-xl border border-slate-200 shadow-sm">
                <h3 class="font-bold text-slate-900 mb-6 text-lg">Your Profile</h3>
                
                <div class="space-y-5">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Role Type</label>
                        <select id="roleSelect" class="w-full border border-slate-300 rounded-lg p-3 text-sm bg-white outline-none focus:border-green-500">
                            <option value="85000">Specialist / Coordinator</option>
                            <option value="115000" selected>Manager</option>
                            <option value="145000">Senior Manager / Architect</option>
                            <option value="175000">Director / Head of</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Years of Experience</label>
                        <select id="expSelect" class="w-full border border-slate-300 rounded-lg p-3 text-sm bg-white outline-none focus:border-green-500">
                            <option value="1.0">1-2 Years</option>
                            <option value="1.1">3-5 Years</option>
                            <option value="1.25">6-9 Years</option>
                            <option value="1.4">10+ Years</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Primary Tech Stack</label>
                        <select id="stackSelect" class="w-full border border-slate-300 rounded-lg p-3 text-sm bg-white outline-none focus:border-green-500">
                            <option value="1.0">General / Other</option>
                            <option value="1.05">HubSpot</option>
                            <option value="1.10">Marketo (Adobe)</option>
                            <option value="1.12">Salesforce Marketing Cloud</option>
                            <option value="1.15">Engineering (Python/SQL)</option>
                        </select>
                    </div>

                    <button onclick="calculateSalary()" class="w-full bg-black text-white font-bold py-4 rounded-lg hover:bg-slate-800 transition shadow-lg mt-4">
                        Calculate Value
                    </button>
                </div>
            </div>

            <div class="bg-[#1f432d] p-8 rounded-xl shadow-xl text-white flex flex-col justify-center items-center text-center relative overflow-hidden">
                <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"></div>
                
                <p class="text-green-200 text-sm font-bold uppercase tracking-wider mb-2">Estimated Annual Base</p>
                <div class="text-5xl md:text-6xl font-serif font-bold mb-6" id="resultDisplay">$0</div>
                
                <p class="text-green-100 text-sm mb-8 px-4 opacity-80">
                    *Estimates are based on US national averages for remote roles.
                </p>

                <a href="{% url 'job_list' %}" class="bg-white text-[#1f432d] font-bold py-3 px-8 rounded-full hover:bg-green-50 transition transform hover:-translate-y-1 shadow-md w-full md:w-auto">
                    View Jobs Paying This &rarr;
                </a>
            </div>
        </div>

    </div>
</div>

<script>
    function calculateSalary() {
        const base = parseFloat(document.getElementById('roleSelect').value);
        const expMult = parseFloat(document.getElementById('expSelect').value);
        const stackMult = parseFloat(document.getElementById('stackSelect').value);

        // Simple algorithm: Base * Experience * Tech Premium
        let total = base * expMult * stackMult;
        
        // Formatting
        const formatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            maximumFractionDigits: 0
        });

        document.getElementById('resultDisplay').innerText = formatter.format(total);
    }
    
    // Run once on load
    document.addEventListener('DOMContentLoaded', calculateSalary);
</script>
{% endblock %}
